**gdb**（GNU Debugger），是 Linux/Unix 系统下最常用的调试工具，主要用于调试用 C/C++ 等语言写的程序。它的核心作用是：**在程序运行过程中进行观察、控制和诊断**。

---

## 1. gdb 能做什么？

* **启动程序**：按指定参数、环境运行。
* **断点控制**：在某行代码、某个函数入口停下来。
* **单步执行**：一行一行或一条指令执行，观察流程。
* **变量查看/修改**：随时查看内存中的变量值，还可以临时改变量。
* **栈跟踪**：当程序崩溃时，能看到函数调用栈。
* **内存调试**：结合工具（如 Valgrind）检查内存错误。

---

## 2. 使用流程

1. **编译时加调试信息**

   ```bash
   gcc -g main.c -o main
   ```

   `-g` 选项会在可执行文件里加入调试符号（变量名、行号信息）。

2. **启动 gdb**

   ```bash
   gdb ./main
   ```

3. **常用命令**

   * `run`：启动程序。
   * `break <行号/函数>`：设置断点。
   * `next`：单步执行（不进入函数）。
   * `step`：单步执行（进入函数）。
   * `continue`：继续执行直到下一个断点。
   * `print var`：打印变量值。
   * `bt`：打印调用栈（backtrace）。
   * `info locals`：查看当前函数的局部变量。
   * `quit`：退出调试。

---

## 3. 典型场景

* **调试崩溃（Segmentation fault）**
  运行时崩溃后，`bt` 可以直接看到函数调用链。
* **排查逻辑错误**
  在关键位置加断点，单步执行，打印变量，找到错误源头。
* **分析内存问题**
  搭配 `valgrind`，结合 `gdb` 查看出错位置。

---

## 4. 高级功能

* **条件断点**：`break 20 if x==5`（在第 20 行只有 x==5 时停下）。
* **观察点（watchpoint）**：`watch var`（当变量变化时停下）。
* **多线程调试**：`info threads` / `thread <id>`。
* **远程调试**：可以用 gdbserver 调试嵌入式设备上的程序。

---

✅ **一句话总结**：
**gdb 是程序员“放大镜”和“显微镜”，帮助你在程序运行时停下来、观察变量、跟踪执行流程，从而快速定位 bug。**
