# 📘 后缀表达式（逆波兰表示法）笔记

## 一、什么是后缀表达式？

后缀表达式（Postfix Expression），又称**逆波兰表示法（Reverse Polish Notation, RPN）**，是一种**不需要括号**也能表达计算顺序的数学表达方式。

其核心特点是：  
**运算符写在操作数后面**，运算顺序完全由表达式中的位置决定，而**不依赖括号或优先级规则**。

---

## 二、表达式形式对比

| 表达形式 | 表达式         | 运算过程说明         |
|----------|----------------|----------------------|
| 中缀     | `3 + 4 * 2`    | 先算 `4 * 2`，再加 `3` |
| 后缀     | `3 4 2 * +`    | `4 * 2` -> 加 `3`    |

### 表达式规则对比：

- **中缀表达式**：操作数 运算符 操作数，例如 `A + B`
- **后缀表达式**：操作数 操作数 运算符，例如 `A B +`

---

## 三、后缀表达式的优点

- ✅ **不需要括号**，表达清晰，结构简洁
- ✅ **无需运算优先级判断**，顺序由结构决定
- ✅ **适合用栈求值**，非常方便计算机执行
- ✅ 表达式求值可以一次性线性扫描完成

---

## 四、应用场景

### 1. 编译器内部
- 编译器在求表达式值时，常将中缀表达式转换为后缀表达式，便于机器处理。
- 转换过程是语法分析的一部分，尤其适合构造抽象语法树或后缀序列。

### 2. 早期计算器
- 一些早期计算器（如惠普工程计算器）使用后缀表达式进行输入和计算。
- 用户输入顺序通常是：**数值 → 数值 → 运算符**。

### 3. 表达式求值
- 利用栈结构，从左到右线性遍历后缀表达式，遇到操作数就压栈，遇到操作符就弹出两个操作数计算，再压入结果。

---

## 五、历史背景

- 最早由波兰逻辑学家 **Jan Łukasiewicz** 提出的是前缀记法。
- 后缀形式（逆波兰记法）是在此基础上发展出来，用于简化表达式解析过程。

---


## 六、如何将中缀表达式转换为后缀表达式？

### 中缀表达式转后缀表达式
5 + （2 + 3） * （4 + 1） + （3 + 2）
= 5 + 23+ * 41+ + 32+
= 5 + 23+41+* + 32+
= 523+41+*+ + 32+
= 523+41+*+32++
### 代码中如何将中缀表达式转为后缀表达式
5 + （2 + 3） * （4 + 1） + （3 + 2）
第1轮
栈运算符：
数组操作符：5

第2轮
栈运算符：+ (
数组操作符：5

第3轮
栈运算符：+ (
数组操作符：5 2

第4轮
栈运算符：+ ( +
数组操作符：5 2

第5轮
栈运算符：+ ( +
数组操作符：5 2 3

第6轮
栈运算符: +
数组操作符：5 2 3 + 4 1 + * +

第7轮
栈运算符: + (
数组操作符：5 2 3 + 4 1 + * +

第8轮
栈运算符: + (
数组操作符：5 2 3 + 4 1 + * + 3

第9轮
栈运算符: + ( +
数组操作符：5 2 3 + 4 1 + * + 3

第10轮
栈运算符: + ( +
数组操作符：5 2 3 + 4 1 + * + 3 2

第11轮
栈运算符: +
数组操作符：5 2 3 + 4 1 + * + 3 2 + 

第12轮
栈运算符:
数组操作符：5 2 3 + 4 1 + * + 3 2 + +

## 六、小结

后缀表达式是一个非常实用且逻辑清晰的表达结构，尤其适合用在编译器、虚拟机、解释器、计算器等场景中。它通过**省略括号与优先级判断**，将表达式变得更“机器友好”。

