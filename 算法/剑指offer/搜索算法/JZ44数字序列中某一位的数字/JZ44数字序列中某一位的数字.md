# JZ44 数字序列中某一位的数字

## 题目概述

* 数字序列按如下方式拼接成字符序列：

```
0123456789101112131415...
```

* 给定下标 `n`（从 0 开始），求序列中第 `n` 位的数字。
* 数据范围：0 ≤ n ≤ 10⁹

---

## 解题思路

1. **分区法**

   * 将数字按位数划分区间：

     1. 一位数：0\~9 → 10 个数字 → 10 位
     2. 两位数：10\~99 → 90 个数字 → 180 位
     3. 三位数：100\~999 → 900 个数字 → 2700 位
     4. 以此类推
   * 每个区间总位数公式：`count = 9 * start * digit`，其中 `start` 是区间起始数字，`digit` 是数字位数

2. **定位 n 所在区间**

   * 从小位数区间开始累减 `n`，直到找到 `n` 落在某个位数区间
   * 此时可确定：

     * 当前区间数字位数 `digit`
     * 区间起始数字 `start`

3. **定位具体数字**

   * 计算在区间中的第几个数字：`indexNum = start + (n-1)/digit`

4. **定位数字内哪一位**

   * 计算数字内索引：`index = (n-1) % digit`
   * 将数字转换为字符串，取对应字符，即为目标数字

5. **注意事项**

   * **下标从 0 开始**，所以公式中 `n-1` 用于对齐
   * 大数字用 `long long` 避免溢出
   * 不需要生成整个序列，直接通过数学公式计算即可

---

## 核心算法特点

* **时间复杂度**：O(log n)
* **空间复杂度**：O(1)
* **方法优点**：

  * 避免生成超长序列
  * 精确定位第 n 位数字
  * 可处理 n 高达 10⁹ 的大输入

---

> **思路总结**：
> 将数字按位数划分区间 → 定位 n 落在哪个区间 → 计算具体数字 → 取数字内的对应位