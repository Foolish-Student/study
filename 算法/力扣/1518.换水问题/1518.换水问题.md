# 1518.换水问题

## 题目概述

给定两个整数：

* `numBottles`：最初你购买的水瓶数量。
* `numExchange`：超市的兑换规则，即用 `numExchange` 个空水瓶可以兑换一瓶水。

当你喝掉一瓶水后，它的空瓶可以再次用于兑换新的水。问题要求计算**最多可以喝到多少瓶水**。

例如：

* 输入 `numBottles = 9, numExchange = 3`，输出 `13`。
* 输入 `numBottles = 15, numExchange = 4`，输出 `19`。

---

## 解题思路

这道题本质是一个**循环累加问题**，核心在于追踪**空瓶的数量**并不断兑换：

1. **初始状态**：你手中有 `numBottles` 瓶水，可以直接喝掉，喝掉后产生同样数量的空瓶。
2. **循环兑换**：

   * 每轮计算可以兑换的水的数量：`exchangeCount = numBottles / numExchange`。
   * 更新手中空瓶数量：剩余空瓶 = `numBottles % numExchange` + 新兑换的水瓶（喝掉后也会变成空瓶）。
   * 将兑换的水累加到总喝水量 `count`。
3. **终止条件**：当空瓶不足以兑换一瓶水时，循环结束。
4. **返回结果**：累加后的总喝水量即为最多可以喝到的水瓶数。

---

## 算法特点

* **时间复杂度**：O(log n)，每次兑换后水瓶数量至少减少到原来的 `1/numExchange`，因此循环次数较少。
* **空间复杂度**：O(1)，只需要维护几个整数变量，无需额外数组。

---

## 小结

这题的关键在于：

* 明确空瓶的累积和循环兑换关系。
* 每次兑换后，不仅要累加喝掉的水，还要更新剩余空瓶数。
* 用循环模拟兑换过程即可得到最终答案，无需复杂的数据结构。

> 核心思路：**不断用空瓶兑换新水，累加总喝水量，直到无法兑换为止**。
