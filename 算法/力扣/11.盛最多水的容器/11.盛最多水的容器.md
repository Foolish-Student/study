# 11.盛最多水的容器
## **题目概述**

本题要求在给定数组 `height` 中选择两条垂线，使得它们与 x 轴形成的容器可以储存最多的水。每条线的高度由数组元素表示，线的横坐标为其下标，纵坐标为数组值。容器面积计算公式为：

[
\text{面积} = (\text{右线索引} - \text{左线索引}) \times \min(\text{左线高度}, \text{右线高度})
]

目标是找到使面积最大的两条线。

---

## **思路分析**

### **1. 暴力法**

最直接的方法是枚举数组中所有可能的两条线组合：

* 外层循环选择左边的线索引 `i`
* 内层循环选择右边的线索引 `j` (`j > i`)
* 计算每组组合的面积 `(j - i) * min(height[i], height[j])`
* 取所有组合的最大面积

**缺点**：

* 时间复杂度为 (O(n^2))，数组长度达到 (10^5) 时会超时。

---

### **2. 双指针法（高效方法）**

为了优化，我们可以使用**双指针**策略：

1. **初始化两个指针**：

   * `curL` 指向数组开头（最左端线）
   * `curR` 指向数组末尾（最右端线）

2. **计算当前面积**：

   * 面积公式同上： `(curR - curL) * min(height[curL], height[curR])`
   * 更新记录的最大面积 `resArea`

3. **移动指针策略**：

   * **核心思想**：面积受最短边限制，所以移动较低的边，可能找到更高的边，从而增大面积。
   * 如果 `height[curL] < height[curR]`：

     * 左指针向右移动 `curL++`
   * 否则：

     * 右指针向左移动 `curR--`

4. **循环条件**：

   * 当左指针与右指针相遇时，停止搜索
   * 期间每次都计算面积并更新最大值

---

### **3. 双指针策略的正确性**

* **为什么只移动短边？**

  * 面积由短边限制，如果移动长边而短边不变，宽度减小，面积一定不会增大。
  * 移动短边，有可能遇到比当前短边更高的线，从而产生更大的面积。

* **遍历方式**：

  * 指针从两端向中间靠拢，保证每个可能的容器组合都会被考虑到，但不需要重复计算。

---

### **4. 时间复杂度分析**

* 双指针只扫描数组一次，每次移动一个指针。
* 时间复杂度： (O(n))
* 空间复杂度： (O(1)) （只使用固定变量存储指针和最大面积）

---

### **5. 举例说明**

假设 `height = [1,8,6,2,5,4,8,3,7]`：

1. 左指针 `curL = 0`，右指针 `curR = 8`：

   * 面积 = `(8 - 0) * min(1,7) = 8`
   * 左边高度低，移动左指针

2. 左指针 `curL = 1`，右指针 `curR = 8`：

   * 面积 = `(8 - 1) * min(8,7) = 49`
   * 右边高度低，移动右指针

3. 左指针 `curL = 1`，右指针 `curR = 7`：

   * 面积 = `(7 - 1) * min(8,3) = 18`
   * 右边低，移动右指针

4. 持续移动，直到两指针相遇，最大面积 = 49

通过这种方法，能够高效找到最大水量。

---

### **总结**

* **核心思想**：双指针法 + 面积由短边限制 + 移动短边寻找可能更高的边。
* **步骤**：

  1. 初始化左右指针
  2. 计算当前面积并更新最大值
  3. 移动较短边指针
  4. 直到左右指针相遇
* **时间复杂度**：O(n)，空间复杂度：O(1)
* **适用场景**：所有需要找数组两端组合最大值且受某边限制的题目
