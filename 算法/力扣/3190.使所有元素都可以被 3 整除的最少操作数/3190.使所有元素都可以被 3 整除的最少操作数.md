

# 3190.使所有元素都可以被 3 整除的最少操作数

### 📌 题目要求

给定一个数组 `nums`，你可以对任意元素执行「+1 或 -1」操作，使它能被 3 整除。
要求求出 **让所有元素都被 3 整除的最少操作次数**。

---

## 🧠 核心思路

对任意整数 `x`，它要成为能被 3 整除的数，只与 **x % 3 的结果**有关：

| x % 3 | 意义                    | 离可被 3 整除最近需要的操作数 |
| ----- | --------------------- | ---------------- |
| 0     | 已能被 3 整除              | 0                |
| 1     | 距离最近的可整除数是 x-1        | 1                |
| 2     | 距离最近的可整除数是 x+1（或 x-2） | 1                |

也就是说：

👉 只要 `x % 3 != 0`，就必须至少进行 1 次操作（+1 或 -1 都行）
👉 如果 `x % 3 == 0`，无需操作

因此每个元素的最小操作数就是：

```
nums[i] % 3 != 0  →  1 次操作
nums[i] % 3 == 0  →  0 次操作
```

---

## 🧮 实现逻辑

我们只需要统计数组中 **不能被 3 整除的数字个数**，因为每个这样的数字最少都需要 1 次操作。

---

## ✔ 示例分析

### 示例 1

```
nums = [1,2,3,4]
```

* 1 % 3 = 1 → 需要 1 次操作
* 2 % 3 = 2 → 需要 1 次操作
* 3 % 3 = 0 → 不需要操作
* 4 % 3 = 1 → 需要 1 次操作

总共：1 + 1 + 0 + 1 = **3 次**

---

### 示例 2

```
nums = [3,6,9]
```

全部能被 3 整除 → 操作次数 = **0**

---

## ⏱ 时间与空间复杂度

* **时间复杂度：O(n)**
  只需要遍历数组一次。
* **空间复杂度：O(1)**
  使用常数额外空间。

---

## 🎯 总结

本题的关键在于观察：

> 一个整数是否能被 3 整除只与它的 mod 3 结果有关，
> 每个不满足的数字只需进行一次最优操作即可修正。

因此答案就是**所有 `nums[i] % 3 != 0` 的数字个数**。
