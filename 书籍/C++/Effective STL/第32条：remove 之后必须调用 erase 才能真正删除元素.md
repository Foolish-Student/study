# **ç¬¬ 32 æ¡ï¼š`remove` ä¹‹åå¿…é¡»è°ƒç”¨ `erase` æ‰èƒ½çœŸæ­£åˆ é™¤å…ƒç´ **

## **æ ¸å¿ƒæ€æƒ³**

* STL ç®—æ³•å¦‚ `std::remove`ã€`std::remove_if` **å¹¶ä¸çœŸçš„åˆ é™¤å®¹å™¨å…ƒç´ **ã€‚
* å®ƒåªæ˜¯ **å°†ä¸éœ€è¦åˆ é™¤çš„å…ƒç´ ç§»åŠ¨åˆ°å‰é¢**ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘â€œæ–°é€»è¾‘ç»“å°¾â€çš„è¿­ä»£å™¨ã€‚
* å…ƒç´ åœ¨å®¹å™¨æœ«å°¾ä»ç„¶å­˜åœ¨ï¼Œå æ®ç©ºé—´ï¼Œå¦‚æœä¸è°ƒç”¨ `erase`ï¼Œå®¹å™¨å¤§å°ä¸å˜ã€‚

> è¿™å°±æ˜¯æ‰€è°“çš„ **â€œerase-remove æƒ¯ç”¨æ³•â€**ã€‚

---

## **1ï¸âƒ£ remove ç®—æ³•ç‰¹ç‚¹**

```cpp
auto new_end = std::remove(v.begin(), v.end(), value);
```

* åŠŸèƒ½ï¼š

  * éå† `v`
  * å°† **ä¸ç­‰äº value çš„å…ƒç´ ç§»åŠ¨åˆ°å‰é¢**
  * è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ `new_end`ï¼ŒæŒ‡å‘é€»è¾‘ä¸Šâ€œæ–°å°¾éƒ¨â€çš„ä¸‹ä¸€ä¸ªä½ç½®

* æ³¨æ„ï¼š

  * å®¹å™¨ `v` çš„ `size()` **æ²¡æœ‰æ”¹å˜**
  * å…ƒç´ åªæ˜¯è¢«è¦†ç›–ï¼Œæœ«å°¾ä»å­˜åœ¨æ—§æ•°æ®

---

## **2ï¸âƒ£ erase åˆ é™¤å…ƒç´ **

```cpp
v.erase(new_end, v.end());
```

* åŠŸèƒ½ï¼š

  * åˆ é™¤ä» `new_end` åˆ°å®¹å™¨æœ«å°¾çš„å…ƒç´ 
  * çœŸæ­£æ”¹å˜å®¹å™¨å¤§å°

* å®Œæ•´çš„ **erase-remove æƒ¯ç”¨æ³•**ï¼š

```cpp
v.erase(std::remove(v.begin(), v.end(), value), v.end());
```

âœ… è¿™æ ·æ‰èƒ½çœŸæ­£åˆ é™¤ `value` å…ƒç´ ï¼Œç¼©å°å®¹å™¨å¤§å°ã€‚

---

## **3ï¸âƒ£ remove\_if çš„ä½¿ç”¨**

* å¯ä»¥é…åˆè°“è¯åˆ é™¤å¤æ‚æ¡ä»¶çš„å…ƒç´ ï¼š

```cpp
v.erase(
    std::remove_if(v.begin(), v.end(), [](int x){ return x % 2 == 0; }),
    v.end()
);
```

* åˆ é™¤æ‰€æœ‰å¶æ•°å…ƒç´ 
* é€»è¾‘åŒæ ·æ˜¯ï¼šå…ˆ `remove_if` ç§»åŠ¨ä¸éœ€è¦åˆ é™¤çš„å…ƒç´  â†’ å† `erase` åˆ é™¤æœ«å°¾å†—ä½™å…ƒç´ 

---

## **4ï¸âƒ£ å¸¸è§è¯¯åŒº**

| é”™è¯¯åšæ³•                                      | é—®é¢˜                                              |
| ----------------------------------------- | ----------------------------------------------- |
| `std::remove(v.begin(), v.end(), value);` | å…ƒç´ ä»åœ¨å®¹å™¨æœ«å°¾ï¼Œå æ®ç©ºé—´ï¼Œ`v.size()` ä¸å˜                     |
| è¯¯ä»¥ä¸º `remove` ä¼šçœŸæ­£åˆ é™¤                        | `remove` åªæ˜¯ **é€»è¾‘åˆ é™¤**ï¼Œéœ€è¦ `erase`                 |
| å¯¹ `list` ä½¿ç”¨ `remove`                      | `list` æä¾›æˆå‘˜å‡½æ•° `list::remove`ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ï¼Œä¸éœ€è¦ `erase` |

---

## **5ï¸âƒ£ æ€»ç»“**

1. **`remove` / `remove_if` ä¸æ”¹å˜å®¹å™¨å¤§å°**
2. **çœŸæ­£åˆ é™¤å…ƒç´ å¿…é¡»è°ƒç”¨ `erase`**
3. **erase-remove æ˜¯ STL å¸¸ç”¨æ¨¡å¼**

```text
STLåˆ é™¤å…ƒç´ å£è¯€ï¼š
removeå…ˆç§»ä½ï¼Œeraseå†æ”¶å°¾ã€‚
```

---

ğŸ’¡ **è¦ç‚¹æé†’**

* `vector`ã€`deque`ã€`string` ç­‰è¿ç»­å®¹å™¨ï¼šä½¿ç”¨ erase-remove
* `list` æˆ– `forward_list`ï¼šæä¾›æˆå‘˜å‡½æ•°ç›´æ¥åˆ é™¤ï¼Œæ— éœ€ erase-remove
