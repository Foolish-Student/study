# ç¬¬6æ¡ï¼šå½“å¿ƒ C++ æœ€çƒ¦äººçš„è§£æ

## ğŸ¯ æ ¸å¿ƒè§‚ç‚¹

åœ¨ C++ ä¸­ï¼ŒæŸäº›çœ‹ä¼¼å¯¹è±¡æ„é€ çš„è¯­å¥ï¼Œ**å¯èƒ½ä¼šè¢«ç¼–è¯‘å™¨è§£æä¸ºå‡½æ•°å£°æ˜**ï¼Œè¿™å°±æ˜¯è‘—åçš„ *Most Vexing Parse* é—®é¢˜ã€‚
ç¼–è¯‘å™¨ä¸€æ—¦æœ‰æœºä¼šæŠŠä¸€è¡Œä»£ç è§£é‡Šæˆå‡½æ•°å£°æ˜ï¼Œå®ƒå°±ä¼šè¿™ä¹ˆåšï¼Œè¿™ä¼šå¯¼è‡´ä»£ç è¡Œä¸ºä¸é¢„æœŸä¸ç¬¦ã€‚

---

## âŒ é—®é¢˜å†™æ³•ï¼ˆè¯¯è§£æˆå‡½æ•°å£°æ˜ï¼‰

```cpp
std::list<int> data(std::istream_iterator<int>(dataFile),
                    std::istream_iterator<int>());
```

è¡¨é¢ä¸Šçœ‹æ˜¯è¦ç”¨è¿­ä»£å™¨èŒƒå›´æ„é€  `list<int>`ï¼Œ
ä½†ç¼–è¯‘å™¨ä¼šæŠŠå®ƒå½“æˆä¸€ä¸ª**å‡½æ•°å£°æ˜**ï¼š

* å‡½æ•°åï¼š`data`
* è¿”å›ç±»å‹ï¼š`std::list<int>`
* ç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹ï¼š`std::istream_iterator<int>`ï¼Œå‚æ•°åä¸º `dataFile`
* ç¬¬äºŒä¸ªå‚æ•°ç±»å‹ï¼š`std::istream_iterator<int>()`ï¼ˆè¢«è§£ææˆå‡½æ•°ç±»å‹/æŒ‡é’ˆï¼‰

äºæ˜¯ `data` ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯å‡½æ•°å£°æ˜ï¼

---

## âœ… æ­£ç¡®å†™æ³•ï¼ˆé¿å…æœ€çƒ¦äººçš„è§£æï¼‰

1. **åŠ é¢å¤–æ‹¬å·**

   ```cpp
   std::list<int> data((std::istream_iterator<int>(dataFile)),
                       std::istream_iterator<int>());
   ```

2. **åˆ†å¼€å®šä¹‰è¿­ä»£å™¨å˜é‡**

   ```cpp
   std::istream_iterator<int> first(dataFile), last;
   std::list<int> data(first, last);
   ```

3. **ä½¿ç”¨ C++11 èŠ±æ‹¬å·åˆå§‹åŒ–**

   ```cpp
   std::list<int> data{std::istream_iterator<int>(dataFile),
                       std::istream_iterator<int>()};
   ```

4. **ç”¨ç®—æ³•æ›¿ä»£åŒºé—´æ„é€ **

   ```cpp
   std::list<int> data;
   std::copy(std::istream_iterator<int>(dataFile),
             std::istream_iterator<int>(),
             std::back_inserter(data));
   ```

---

## ğŸ›  ä¸ºä»€ä¹ˆè¦æ³¨æ„ï¼Ÿ

1. **è¯­ä¹‰é™·é˜±**

   * å†™å‡ºæ¥åƒ"æ„é€ å¯¹è±¡"ï¼Œå…¶å®æ˜¯"å‡½æ•°å£°æ˜"ã€‚
   * å®¹æ˜“è¯¯å¯¼è‡ªå·±æˆ–å›¢é˜Ÿæˆå‘˜ï¼Œè°ƒè¯•å›°éš¾ã€‚

2. **ç¼–è¯‘å™¨è§„åˆ™**

   * C++ æ ‡å‡†è§„å®šï¼šå¦‚æœèƒ½è§£é‡Šä¸ºå‡½æ•°å£°æ˜ï¼Œå°±ä¼˜å…ˆæŒ‰å‡½æ•°å£°æ˜è§£æã€‚

3. **å¯ç§»æ¤æ€§é£é™©**

   * æœ‰äº›ç¼–è¯‘å™¨ä¼šç»™å‡ºä¸åŒçš„æç¤ºæˆ–è­¦å‘Šï¼Œå¯¼è‡´è·¨å¹³å°ç§»æ¤æ—¶å‡ºç°é—®é¢˜ã€‚

---

## ğŸ“¦ å®ç”¨å»ºè®®

| æƒ…å†µ     | æ¨èå†™æ³• âœ…                            | é¿å…å†™æ³• âŒ                     |
| ------ | --------------------------------- | -------------------------- |
| åŒºé—´æ„é€ å®¹å™¨ | `list<int> d{first, last};` æˆ–é¢å¤–æ‹¬å· | `list<int> d(first,last);` |
| ä¸´æ—¶å¯¹è±¡å‚æ•° | æå‰å®šä¹‰å˜é‡å†ä¼ å…¥                         | ç›´æ¥å†™åœ¨æ„é€ å‚æ•°é‡Œ                  |
| å¤æ‚æ¨¡æ¿å‚æ•° | å°½é‡ç”¨ `{}` æˆ–å‘½åå˜é‡ï¼Œé¿å…é•¿é•¿çš„ `()` å¥—åµŒè¡¨è¾¾å¼   |                            |

---

## ğŸ“Œ å°ç»“

**è®°ä½ä¸€å¥è¯ï¼š**
ğŸ‘‰ **å‡¡æ˜¯èƒ½è¢«ç¼–è¯‘å™¨è¯»æˆ"å‡½æ•°å£°æ˜"çš„ä»£ç ï¼Œå®ƒå°±ä¼šè¿™ä¹ˆè§£æï¼**
å†™å®¹å™¨åŒºé—´æ„é€ æˆ–ä¼ ä¸´æ—¶å¯¹è±¡æ—¶ï¼Œ**å¤šåŠ ä¸€å±‚æ‹¬å·**æˆ–ç”¨ `{}`ï¼Œå°±èƒ½å½»åº•é¿å¼€è¿™ä¸ªé™·é˜±ã€‚ ğŸš€
